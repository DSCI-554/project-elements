{"remainingRequest":"/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/src/views/Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/src/views/Dashboard.vue","mtime":1638505267916},{"path":"/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/node_modules/cache-loader/dist/cjs.js","mtime":1637278779191},{"path":"/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/node_modules/babel-loader/lib/index.js","mtime":1637278778721},{"path":"/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/node_modules/cache-loader/dist/cjs.js","mtime":1637278779191},{"path":"/Users/zhangzixin/Desktop/USC/DSCI554/project-elements/demo/node_modules/vue-loader/lib/index.js","mtime":1637278782397}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CmltcG9ydCB7bmVzdH0gZnJvbSAnZDMtY29sbGVjdGlvbic7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2QzQ2hhcnQnLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIHJhd0RhdGE6IG51bGwsCiAgICAgIGxpbmVEYXRhOiBudWxsLAogICAgICByZWdpb246bnVsbCwKICAgICAgdHJlZW1hcERhdGE6bnVsbAogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgY2hhcnQoKXsKCiAgICAgIHZhciB3aWR0aCA9IDgwMDsKICAgICAgdmFyIGhlaWdodCA9IDYwMDsKICAgICAgdmFyIG1hcmdpbiA9IDUwOwogICAgICB2YXIgeFNjYWxlID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgICAgICAgICAgLmRvbWFpbihbMCwyMDIxXSkKICAgICAgICAgICAgICAgIC5yYW5nZShbMCwgd2lkdGhdKTsKCiAgICAgIHZhciB5U2NhbGUgPSBkMy5zY2FsZUxpbmVhcigpCiAgICAgICAgICAgICAgICAuZG9tYWluKFswLCAxMDAwXSkKICAgICAgICAgICAgICAgIC5yYW5nZShbaGVpZ2h0LCAwXSk7CgogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCIjbGluZV9jaGFydCIpCiAgICAgICAgICAgICAgLmFwcGVuZCgic3ZnIikKICAgICAgICAgICAgICAuYXR0cigid2lkdGgiLCB3aWR0aCttYXJnaW4pCiAgICAgICAgICAgICAgLmF0dHIoImhlaWdodCIsIGhlaWdodCttYXJnaW4pCiAgICAgICAgICAgICAgLmFwcGVuZCgnZycpCiAgICAgICAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsIGB0cmFuc2xhdGUoJHttYXJnaW59LCAke21hcmdpbn0pYCk7CiAgICAgICAgICAgICAgCiAgICAgIHZhciB4QXhpcyA9IGQzLmF4aXNCb3R0b20oeFNjYWxlKS50aWNrcyg1KTsKICAgICAgdmFyIHlBeGlzID0gZDMuYXhpc0xlZnQoeVNjYWxlKS50aWNrcyg1KTsKCiAgICAgIHN2Zy5hcHBlbmQoImciKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJ4IGF4aXMiKQogICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBgdHJhbnNsYXRlKDAsICR7aGVpZ2h0LW1hcmdpbn0pYCkKICAgICAgICAuY2FsbCh4QXhpcykKICAgICAgICAudGV4dCgiWWVhciIpOwogICAgICAgIAogICAgICAgIHN2Zy5hcHBlbmQoImciKQogICAgICAgIC5hdHRyKCJjbGFzcyIsICJ5IGF4aXMiKQogICAgICAgIC5jYWxsKHlBeGlzKQogICAgICAgIC5hcHBlbmQoJ3RleHQnKQogICAgICAgIC5hdHRyKCJ5IiwgMTUpCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJyb3RhdGUoLTkwKSIpCiAgICAgICAgLmF0dHIoImZpbGwiLCAiIzAwMCIpCiAgICAgICAgLnRleHQoIk51bWJlciBvZiBEZWxheWVkIEZsaWdodHMiKTsKICAgIH0sCiAgICBidWlsZExpbmVDaGFydCgpIHsKICAgICAgLyp2YXIgd2lkdGggPSA4MDA7CiAgICAgIHZhciBoZWlnaHQgPSA4MDA7CiAgICAgIHZhciBtYXJnaW4gPSA1MDsKICAgICAgdmFyIGR1cmF0aW9uID0gMjUwOwogICAgICAqLwogICAgICB2YXIgbGluZU9wYWNpdHkgPSAiMC4yNSI7CiAgICAgIHZhciBsaW5lT3BhY2l0eUhvdmVyID0gIjAuODUiOwogICAgICB2YXIgb3RoZXJMaW5lc09wYWNpdHlIb3ZlciA9ICIwLjI1IjsKICAgICAgdmFyIGxpbmVTdHJva2UgPSAiMnB4IjsKICAgICAgdmFyIGxpbmVTdHJva2VIb3ZlciA9ICIzLjVweCI7CiAgICAgIC8qCiAgICAgIHZhciBjaXJjbGVPcGFjaXR5ID0gJzAuODUnOwogICAgICB2YXIgY2lyY2xlT3BhY2l0eU9uTGluZUhvdmVyID0gIjAuMjUiCiAgICAgIHZhciBjaXJjbGVSYWRpdXMgPSAzOwogICAgICB2YXIgY2lyY2xlUmFkaXVzSG92ZXIgPSA2OyovCgogICAgICB2YXIgcGFyc2VEYXRlID0gZDMudGltZVBhcnNlKCIlWS0lbS0lZCIpOwoKICAgICAgdmFyIGRhdGEgPSB0aGlzLmxpbmVEYXRhOwogICAgICAvL2NvbnNvbGUubG9nKGRhdGFbMF0uRkxfREFURSk7IC8vdGhpcyB3b3JrcwoKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHsgCiAgICAgICAgZC5kYXRlID0gcGFyc2VEYXRlKGQuRkxfREFURSk7CiAgICAgICAgZC5jYXJyaWVyID0gZC5NS1RfVU5JUVVFX0NBUlJJRVI7CiAgICAgICAgZC5kZWxheSA9ICtkLk5VTV9PRl9ERUxBWTsgIAoKICAgICAgfSk7CgogICAgICAKICAgICAgdmFyIHN1bXN0YXQgPSBuZXN0KCkgLy8gbmVzdCBmdW5jdGlvbiBhbGxvd3MgdG8gZ3JvdXAgdGhlIGNhbGN1bGF0aW9uIHBlciBsZXZlbCBvZiBhIGZhY3RvcgogICAgICAgICAgLmtleShmdW5jdGlvbihkKSB7IHJldHVybiBkLmNhcnJpZXI7fSkKICAgICAgICAgIC5lbnRyaWVzKGRhdGEpOwoKICAgICAgY29uc29sZS5sb2coc3Vtc3RhdCk7IC8vd29ya2luZwoKICAgICAgdmFyIGFycl90aW1lID0gZDMuZXh0ZW50KGRhdGEsIGZ1bmN0aW9uKGQpIHsgcmV0dXJuIGQuZGF0ZTsgfSkKICAgICAgCiAgICAgIHZhciBtYXJnaW4gPSB7dG9wOiAxMCwgcmlnaHQ6IDMwLCBib3R0b206IDMwLCBsZWZ0OiA2MH0sCiAgICAgICAgICB3aWR0aCA9IDEyMDAgLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodCwKICAgICAgICAgIGhlaWdodCA9IDYwMCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tOwoKICAgICAgLy8gYXBwZW5kIHRoZSBzdmcgb2JqZWN0IHRvIHRoZSBib2R5IG9mIHRoZSBwYWdlCiAgICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiNsaW5lX2NoYXJ0IikKICAgICAgICAuYXBwZW5kKCJzdmciKQogICAgICAgICAgLmF0dHIoIndpZHRoIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodCkKICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSkKICAgICAgICAuYXBwZW5kKCJnIikKICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLAogICAgICAgICAgICAgICAgInRyYW5zbGF0ZSgiICsgbWFyZ2luLmxlZnQgKyAiLCIgKyBtYXJnaW4udG9wICsgIikiKTsKCiAgICAgIC8vY29uc29sZS5sb2coYXJyX3RpbWUpOyAvL3dvcmtpbmcKICAgICAgLy9BZGQgeC1heGlzCiAgICAgIHZhciB4ID0gZDMuc2NhbGVMaW5lYXIoKQogICAgICAgIC5kb21haW4oYXJyX3RpbWUpCiAgICAgICAgLnJhbmdlKFsgMCwgd2lkdGggXSk7CiAgICAgIHN2Zy5hcHBlbmQoImciKQogICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgInRyYW5zbGF0ZSgwLCIgKyBoZWlnaHQgKyAiKSIpCiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS50aWNrcygzMikudGlja0Zvcm1hdChkMy50aW1lRm9ybWF0KCclYiAlZCcpKSk7CgogICAgICB2YXIgbWF4X2RhdGEgPSBkMy5tYXgoZGF0YSwgZnVuY3Rpb24oZCkgeyByZXR1cm4gK2QuZGVsYXk7IH0pCiAgICAgIGNvbnNvbGUubG9nKG1heF9kYXRhKQoKICAgICAgLy8gQWRkIHktYXhpcwogICAgICB2YXIgeSA9IGQzLnNjYWxlTGluZWFyKCkKICAgICAgICAuZG9tYWluKFswLCBtYXhfZGF0YV0pCiAgICAgICAgLnJhbmdlKFsgaGVpZ2h0LCAwIF0pOwogICAgICBzdmcuYXBwZW5kKCJnIikKICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KSkKICAgICAgICAuYXBwZW5kKCd0ZXh0JykKICAgICAgICAuYXR0cigieCIsIC0xNTApCiAgICAgICAgLmF0dHIoInkiLCAtNDApCiAgICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICJyb3RhdGUoLTkwKSIpCiAgICAgICAgLmF0dHIoImZpbGwiLCAiIzY5Njk2OSIpCiAgICAgICAgLmF0dHIoImZvbnQtc2l6ZSIsICIxNHB4IikKICAgICAgICAudGV4dCgiTnVtYmVyIG9mIERlbGF5ZWQgRmxpZ2h0cyIpOwoKICAgICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApOwoKICAgICAgY29uc3QgdHJhbnNpdGlvblBhdGggPSBkMwogICAgICAgIC50cmFuc2l0aW9uKCkKICAgICAgICAuZWFzZShkMy5lYXNlU2luKQogICAgICAgIC5kdXJhdGlvbigxMDAwKTsKICAgICAgY29uc29sZS5sb2codHJhbnNpdGlvblBhdGgpCgogICAgICBzdmcuc2VsZWN0QWxsKCIubGluZSIpCiAgICAgIC5kYXRhKHN1bXN0YXQpCiAgICAgIC5lbnRlcigpCiAgICAgIC5hcHBlbmQoInBhdGgiKQogICAgICAgIC5hdHRyKCJmaWxsIiwgIm5vbmUiKQogICAgICAgIC5hdHRyKCJzdHJva2UiLCBmdW5jdGlvbihkKXsgcmV0dXJuIGNvbG9yKGQua2V5KSB9KQogICAgICAgIC5hdHRyKCJzdHJva2Utd2lkdGgiLCBsaW5lU3Ryb2tlKQogICAgICAgIC5hdHRyKCJvcGFjaXR5IiwgbGluZU9wYWNpdHkpCiAgICAgICAgLmF0dHIoImQiLCBmdW5jdGlvbihkKXsKICAgICAgICAgIHJldHVybiBkMy5saW5lKCkKICAgICAgICAgICAgLngoZnVuY3Rpb24oZCkgeyByZXR1cm4geChkLmRhdGUpOyB9KQogICAgICAgICAgICAueShmdW5jdGlvbihkKSB7IHJldHVybiB5KCtkLmRlbGF5KTsgfSkoZC52YWx1ZXMpCiAgICAgICAgfSkKICAgICAgICAub24oIm1vdXNlb3ZlciIsIGZ1bmN0aW9uKGQsaSkgewogICAgICAgICAgY29uc29sZS5sb2coaSkKICAgICAgICAgICAgc3ZnLmFwcGVuZCgidGV4dCIpCiAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgICAgICAgIC5lYXNlKGQzLmVhc2VTaW4pCiAgICAgICAgICAgICAgLmF0dHIoImNsYXNzIiwgInRpdGxlLXRleHQiKQogICAgICAgICAgICAgIC5zdHlsZSgiZmlsbCIsIGNvbG9yKGkua2V5KSkgIAogICAgICAgICAgICAgIC5zdHlsZSgiZm9udC1zaXplIiwgIjIycHgiKSAgICAgIAogICAgICAgICAgICAgIC50ZXh0KCJDYXJyaWVyOiAiK2kua2V5KQogICAgICAgICAgICAgIC5hdHRyKCJ0ZXh0LWFuY2hvciIsICJtaWRkbGUiKQogICAgICAgICAgICAgIC5hdHRyKCJ4IiwgMTAwKQogICAgICAgICAgICAgIC5hdHRyKCJ5IiwgMjApOwogICAgICAgICAgICBkMy5zZWxlY3RBbGwoJy5saW5lJykKICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5Jywgb3RoZXJMaW5lc09wYWNpdHlIb3Zlcik7CiAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKQogICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIGxpbmVPcGFjaXR5SG92ZXIpCiAgICAgICAgICAgICAgLnN0eWxlKCJzdHJva2Utd2lkdGgiLCBsaW5lU3Ryb2tlSG92ZXIpCiAgICAgICAgICAgICAgLnN0eWxlKCJjdXJzb3IiLCAicG9pbnRlciIpOwogICAgICAgICAgfSkKICAgICAgICAub24oIm1vdXNlb3V0IiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHN2Zy5zZWxlY3QoIi50aXRsZS10ZXh0IikucmVtb3ZlKCk7CiAgICAgICAgICAgIGQzLnNlbGVjdEFsbCgiLmxpbmUiKQogICAgICAgICAgICAgICAgLnN0eWxlKCdvcGFjaXR5JywgbGluZU9wYWNpdHkpOwogICAgICAgICAgICBkMy5zZWxlY3QodGhpcykKICAgICAgICAgICAgICAuc3R5bGUoJ29wYWNpdHknLCBsaW5lT3BhY2l0eSkKICAgICAgICAgICAgICAuc3R5bGUoInN0cm9rZS13aWR0aCIsIGxpbmVTdHJva2UpCiAgICAgICAgICAgICAgLnN0eWxlKCJjdXJzb3IiLCAibm9uZSIpOwogICAgICAgICAgfSkKICAgICAgICAgIDsKCiAgICAgICAgCiAgICAgIAogICAgICAgIHZhciBjdXJ0YWluID0gc3ZnLmFwcGVuZCgncmVjdCcpCiAgICAgICAgICAuYXR0cigneCcsIC0xICogd2lkdGgpCiAgICAgICAgICAuYXR0cigneScsIC0xICogaGVpZ2h0KQogICAgICAgICAgLmF0dHIoJ2hlaWdodCcsIGhlaWdodCkKICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIHdpZHRoKQogICAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ2N1cnRhaW4nKQogICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICdyb3RhdGUoMTgwKScpCiAgICAgICAgICAuc3R5bGUoJ2ZpbGwnLCAnI2ZmZmZmZicpOwogICAgICAgICAgCiAgICAgICAgLyogT3B0aW9uYWxseSBhZGQgYSBndWlkZWxpbmUgKi8KICAgICAgICB2YXIgZ3VpZGVsaW5lID0gc3ZnLmFwcGVuZCgnbGluZScpCiAgICAgICAgICAuYXR0cignc3Ryb2tlJywgJyMzMzMnKQogICAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDApCiAgICAgICAgICAuYXR0cignY2xhc3MnLCAnZ3VpZGUnKQogICAgICAgICAgLmF0dHIoJ3gxJywgMSkKICAgICAgICAgIC5hdHRyKCd5MScsIDEpCiAgICAgICAgICAuYXR0cigneDInLCAxKQogICAgICAgICAgLmF0dHIoJ3kyJywgaGVpZ2h0KQogICAgICAgICAgCiAgICAgICAgLyogQ3JlYXRlIGEgc2hhcmVkIHRyYW5zaXRpb24gZm9yIGFueXRoaW5nIHdlJ3JlIGFuaW1hdGluZyAqLwogICAgICAgIHZhciB0ID0gc3ZnLnRyYW5zaXRpb24oKQogICAgICAgICAgLmRlbGF5KDc1MCkKICAgICAgICAgIC5kdXJhdGlvbig2MDAwKQogICAgICAgICAgLmVhc2UoZDMuZWFzZUxpbmVhcikKICAgICAgICAgIC5vbignZW5kJywgZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIGQzLnNlbGVjdCgnbGluZS5ndWlkZScpCiAgICAgICAgICAgICAgLnRyYW5zaXRpb24oKQogICAgICAgICAgICAgIC5zdHlsZSgnb3BhY2l0eScsIDApCiAgICAgICAgICAgICAgLnJlbW92ZSgpCiAgICAgICAgICB9KTsKICAgICAgICAKICAgICAgICB0LnNlbGVjdCgncmVjdC5jdXJ0YWluJykKICAgICAgICAgIC5hdHRyKCd3aWR0aCcsIDApOwogICAgICAgIHQuc2VsZWN0KCdsaW5lLmd1aWRlJykKICAgICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB3aWR0aCArICcsIDApJykKCiAgICAgICAgZDMuc2VsZWN0KCIjc2hvd19ndWlkZWxpbmUiKS5vbigiY2hhbmdlIiwgZnVuY3Rpb24oKSB7CiAgICAgICAgICBndWlkZWxpbmUuYXR0cignc3Ryb2tlLXdpZHRoJywgdGhpcy5jaGVja2VkID8gMSA6IDApOwogICAgICAgICAgY3VydGFpbi5hdHRyKCJvcGFjaXR5IiwgdGhpcy5jaGVja2VkID8gMC43NSA6IDEpOwogICAgICAgIH0pICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICB9LAogICAgYnVpbGRUcmVlbWFwKCkgewogICAgICB2YXIgd2lkdGggPSA5NTQ7CiAgICAgIHZhciBoZWlnaHQgPSA5NTQ7CgogICAgICBjb25zdCBrZXlzID0gZDMucmFuZ2UoMSwgMzIpOwogICAgICBjb25zb2xlLmxvZyhrZXlzKQogICAgICBjb25zb2xlLmxvZyh0aGlzLnRyZWVtYXBEYXRhKQoKICAgICAgdmFyIGRhdGEgPSB0aGlzLnRyZWVtYXBEYXRhOwoKICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGQpIHsgCiAgICAgICAgZC5uYW1lID0gZC5PUklHSU5fU1RBVEVfTk0KICAgICAgICBkLnZhbHVlcyA9ICBrZXlzLm1hcChrZXkgPT4gK2Rba2V5XS5yZXBsYWNlKC8sL2csICIiKSkKICAgICAgfSk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEpCiAgICAgIAogICAgICBjb25zdCByZWdpb25CeVN0YXRlID0gbmV3IE1hcCh0aGlzLnJlZ2lvbi5tYXAoZCA9PiBbZC5TdGF0ZSwgZC5SZWdpb25dKSk7CiAgICAgIGNvbnNvbGUubG9nKHJlZ2lvbkJ5U3RhdGUpCiAgICAgIGNvbnN0IGRpdmlzaW9uQnlTdGF0ZSA9IG5ldyBNYXAodGhpcy5yZWdpb24ubWFwKGQgPT4gW2QuU3RhdGUsIGQuRGl2aXNpb25dKSk7CiAgICAgIGNvbnNvbGUubG9nKGRpdmlzaW9uQnlTdGF0ZSkKCiAgICAgIGNvbnN0IGdyb3VwID0gZDMuZ3JvdXAoZGF0YSwgZCA9PiByZWdpb25CeVN0YXRlLmdldChkLk9SSUdJTl9TVEFURV9OTSksIGQgPT4gZGl2aXNpb25CeVN0YXRlLmdldChkLk9SSUdJTl9TVEFURV9OTSkpCiAgICAgIGNvbnNvbGUubG9nKGdyb3VwKQoKICAgICAgdmFyIGNvbG9yID0gZDMuc2NhbGVPcmRpbmFsKGdyb3VwLmtleXMoKSwgZDMuc2NoZW1lQ2F0ZWdvcnkxMC5tYXAoZCA9PiBkMy5pbnRlcnBvbGF0ZVJnYihkLCAid2hpdGUiKSgwLjUpKSkKICAgICAgY29uc29sZS5sb2coY29sb3IpCgogICAgICB2YXIgc3VtcyA9IGtleXMubWFwKChkLCBpKSA9PiBkMy5oaWVyYXJjaHkoZ3JvdXApLnN1bShkID0+IGQudmFsdWVzW2ldKS52YWx1ZSk7CiAgICAgIGNvbnNvbGUubG9nKHN1bXMpCgogICAgICB2YXIgbWF4ID0gZDMubWF4KHN1bXMpOwogICAgICBjb25zb2xlLmxvZyhtYXgpCgogICAgICBjb25zdCB0cmVlbWFwID0gZDMudHJlZW1hcCgpCiAgICAgIC50aWxlKGQzLnRyZWVtYXBSZXNxdWFyaWZ5KQogICAgICAuc2l6ZShbd2lkdGgsIGhlaWdodF0pCiAgICAgIC5wYWRkaW5nKGQgPT4gZC5oZWlnaHQgPT09IDEgPyAxIDogMCkKICAgICAgLnJvdW5kKHRydWUpOwoKICAgICAgY29uc29sZS5sb2codHJlZW1hcCkKCiAgICAgIGNvbnN0IHJvb3QgPSB0cmVlbWFwKGQzLmhpZXJhcmNoeShncm91cCkKICAgICAgICAuc3VtKGQgPT4gQXJyYXkuaXNBcnJheShkLnZhbHVlcykgPyBkMy5zdW0oZC52YWx1ZXMpIDogMCkKICAgICAgICAuc29ydCgoYSwgYikgPT4gYi52YWx1ZSAtIGEudmFsdWUpKTsKICAgICAgY29uc29sZS5sb2cocm9vdCkKICAgIAoKICAgIHZhciBzdmcgPSBkMy5zZWxlY3QoIiN0cmVlbWFwIikKICAgICAgICAuYXBwZW5kKCJzdmciKQogICAgICAgIC5hdHRyKCJmb250LWZhbWlseSIsICJzYW5zLXNlcmlmIikKICAgICAgICAuYXR0cigiZm9udC1zaXplIiwgMTApCiAgICAgICAgLnN0eWxlKCJvdmVyZmxvdyIsICJ2aXNpYmxlIik7CgogICAgdmFyIGZvcm1hdE51bWJlciA9IGQzLmZvcm1hdCgiLGQiKTsKICAgIHZhciBkdXJhdGlvbiA9IDI1MDA7CiAgICB2YXIgcGFyc2VOdW1iZXIgPSBzdHJpbmcgPT4gK3N0cmluZy5yZXBsYWNlKC8sL2csICIiKTsKCiAgICB2YXIgYm94ID0gc3ZnLmFwcGVuZCgiZyIpCiAgICAuc2VsZWN0QWxsKCJnIikKICAgIC5kYXRhKGtleXMubWFwKChrZXksIGkpID0+IHsKICAgICAgY29uc3QgdmFsdWUgPSByb290LnN1bShkID0+IGQudmFsdWVzW2ldKS52YWx1ZTsKICAgICAgcmV0dXJuIHtrZXksIHZhbHVlLCBpLCBrOiBNYXRoLnNxcnQodmFsdWUgLyBtYXgpfTsKICAgIH0pLnJldmVyc2UoKSkKICAgIC5qb2luKCJnIikKICAgICAgLmF0dHIoInRyYW5zZm9ybSIsICh7a30pID0+IGB0cmFuc2xhdGUoJHsoMSAtIGspIC8gMiAqIHdpZHRofSwkeygxIC0gaykgLyAyICogaGVpZ2h0fSlgKQogICAgICAuY2FsbChnID0+IGcuYXBwZW5kKCJ0ZXh0IikKICAgICAgICAgIC5hdHRyKCJ5IiwgLTYpCiAgICAgICAgICAuYXR0cigiZmlsbCIsICIjNzc3IikKICAgICAgICAuc2VsZWN0QWxsKCJ0c3BhbiIpCiAgICAgICAgLmRhdGEoKHtrZXksIHZhbHVlfSkgPT4gW2tleSwgYCAke2Zvcm1hdE51bWJlcih2YWx1ZSl9YF0pCiAgICAgICAgLmpvaW4oInRzcGFuIikKICAgICAgICAgIC5hdHRyKCJmb250LXdlaWdodCIsIChkLCBpKSA9PiBpID09PSAwID8gImJvbGQiIDogbnVsbCkKICAgICAgICAgIC50ZXh0KGQgPT4gZCkpCiAgICAgIC5jYWxsKGcgPT4gZy5hcHBlbmQoInJlY3QiKQogICAgICAgICAgLmF0dHIoImZpbGwiLCAibm9uZSIpCiAgICAgICAgICAuYXR0cigic3Ryb2tlIiwgIiNjY2MiKQogICAgICAgICAgLmF0dHIoIndpZHRoIiwgKHtrfSkgPT4gayAqIHdpZHRoICkKICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCAoe2t9KSA9PiBrICogaGVpZ2h0KSk7CiAgICAgIAogICAgICBjb25zb2xlLmxvZyhib3gpCgogICAgICAgY29uc3QgbGVhZiA9IHN2Zy5hcHBlbmQoImciKQogICAgICAgICAgLnNlbGVjdEFsbCgiZyIpCiAgICAgICAgICAuZGF0YShsYXlvdXQoa2V5cykpCiAgICAgICAgICAuam9pbigiZyIpCiAgICAgICAgICAgIC5hdHRyKCJ0cmFuc2Zvcm0iLCBkID0+IGB0cmFuc2xhdGUoJHtkLngwfSwke2QueTB9KWApOwogICAgICAgIGNvbnNvbGUubG9nKGxlYWYpCiAgICAgICAgCiAgICAgICAgbGVhZi5hcHBlbmQoInJlY3QiKQogICAgICAgICAgICAvLy5hdHRyKCJpZCIsIGQgPT4gKGQubGVhZlVpZCA9IERPTS51aWQoImxlYWYiKSkuaWQpCiAgICAgICAgICAgIC5hdHRyKCJmaWxsIiwgZCA9PiB7IHdoaWxlIChkLmRlcHRoID4gMSkgZCA9IGQucGFyZW50OyByZXR1cm4gY29sb3Ioa2V5cyk7IH0pCiAgICAgICAgICAgIC5hdHRyKCJ3aWR0aCIsIGQgPT4gZC54MSAtIGQueDApCiAgICAgICAgICAgIC5hdHRyKCJoZWlnaHQiLCBkID0+IGQueTEgLSBkLnkwKTsKICAgICAgICAvKgogICAgICAgIGxlYWYuYXBwZW5kKCJjbGlwUGF0aCIpCiAgICAgICAgICAgIC5hdHRyKCJpZCIsIGQgPT4gKGQuY2xpcFVpZCA9IERPTS51aWQoImNsaXAiKSkuaWQpCiAgICAgICAgICAuYXBwZW5kKCJ1c2UiKQogICAgICAgICAgICAuYXR0cigieGxpbms6aHJlZiIsIGQgPT4gZC5sZWFmVWlkLmhyZWYpOwogICAgICAgICovCiAgICAgICAgbGVhZi5hcHBlbmQoInRleHQiKQogICAgICAgICAgICAuYXR0cigiY2xpcC1wYXRoIiwgZCA9PiBkLmNsaXBVaWQpCiAgICAgICAgICAuc2VsZWN0QWxsKCJ0c3BhbiIpCiAgICAgICAgICAuZGF0YShbZ3JvdXAubmFtZSwgZm9ybWF0TnVtYmVyKGdyb3VwLnZhbHVlKV0pCiAgICAgICAgICAuam9pbigidHNwYW4iKQogICAgICAgICAgICAuYXR0cigieCIsIDMpCiAgICAgICAgICAgIC5hdHRyKCJ5IiwgKGQsIGksIG5vZGVzKSA9PiBgJHsoaSA9PT0gbm9kZXMubGVuZ3RoIC0gMSkgKiAwLjMgKyAxLjEgKyBpICogMC45fWVtYCkKICAgICAgICAgICAgLmF0dHIoImZpbGwtb3BhY2l0eSIsIChkLCBpLCBub2RlcykgPT4gaSA9PT0gbm9kZXMubGVuZ3RoIC0gMSA/IDAuNyA6IG51bGwpCiAgICAgICAgICAgIC50ZXh0KGQgPT4gZCk7CgogICAgICAgIGxlYWYuYXBwZW5kKCJ0aXRsZSIpCiAgICAgICAgICAgIC50ZXh0KGdyb3VwLm5hbWUpOwoKICAgICAgICBmdW5jdGlvbiBsYXlvdXQoaW5kZXgpIHsKICAgICAgICAgIGNvbnN0IGsgPSBNYXRoLnNxcnQocm9vdC5zdW0oZCA9PiBkLnZhbHVlc1tpbmRleF0pLnZhbHVlIC8gbWF4KTsKICAgICAgICAgIGNvbnN0IHggPSAoMSAtIGspIC8gMiAqIHdpZHRoOwogICAgICAgICAgY29uc3QgeSA9ICgxIC0gaykgLyAyICogaGVpZ2h0OwogICAgICAgICAgcmV0dXJuIHRyZWVtYXAuc2l6ZShbd2lkdGggKiBrLCBoZWlnaHQgKiBrXSkocm9vdCkKICAgICAgICAgICAgLmVhY2goZCA9PiAoZC54MCArPSB4LCBkLngxICs9IHgsIGQueTAgKz0geSwgZC55MSArPSB5KSkKICAgICAgICAgICAgLmxlYXZlcygpOwogICAgICAgIH0KCiAgcmV0dXJuIE9iamVjdC5hc3NpZ24oc3ZnLm5vZGUoKSwgewogICAgdXBkYXRlKGluZGV4KSB7CiAgICAgIGJveC50cmFuc2l0aW9uKCkKICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbikKICAgICAgICAgIC5hdHRyKCJvcGFjaXR5IiwgKHtpfSkgPT4gaSA+PSBpbmRleCA/IDEgOiAwKTsKCiAgICAgIGxlYWYuZGF0YShsYXlvdXQoaW5kZXgpKS50cmFuc2l0aW9uKCkKICAgICAgICAgIC5kdXJhdGlvbihkdXJhdGlvbikKICAgICAgICAgIC5lYXNlKGQzLmVhc2VMaW5lYXIpCiAgICAgICAgICAuYXR0cigidHJhbnNmb3JtIiwgZCA9PiBgdHJhbnNsYXRlKCR7ZC54MH0sJHtkLnkwfSlgKQogICAgICAgICAgLmNhbGwobGVhZiA9PiBsZWFmLnNlbGVjdCgicmVjdCIpCiAgICAgICAgICAgICAgLmF0dHIoIndpZHRoIiwgZCA9PiBkLngxIC0gZC54MCkKICAgICAgICAgICAgICAuYXR0cigiaGVpZ2h0IiwgZCA9PiBkLnkxIC0gZC55MCkpCiAgICAgICAgICAuY2FsbChsZWFmID0+IGxlYWYuc2VsZWN0KCJ0ZXh0IHRzcGFuOmxhc3QtY2hpbGQiKQogICAgICAgICAgICAgIC50d2VlbigidGV4dCIsIGZ1bmN0aW9uKGQpIHsKICAgICAgICAgICAgICAgIGNvbnN0IGkgPSBkMy5pbnRlcnBvbGF0ZShwYXJzZU51bWJlcih0aGlzLnRleHRDb250ZW50KSwgZC52YWx1ZSk7CiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24odCkgeyB0aGlzLnRleHRDb250ZW50ID0gZm9ybWF0TnVtYmVyKGkodCkpOyB9OwogICAgICAgICAgICAgIH0pKTsKICAgIH0KICB9KTsKCiAgICB9CgogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewoKICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaHRtbE1hcERhdGEpIHsKICAgICAgdmFyIHByb21pc2VzID0gW10KICAgICAgcHJvbWlzZXMucHVzaChkMy5jc3YoJ0RhdGFfZm9yX2xpbmVfY2hhcnQuY3N2JykpCiAgICAgIHByb21pc2VzLnB1c2goZDMuY3N2KCd1cy1yZWdpb24uY3N2JykpCiAgICAgIHByb21pc2VzLnB1c2goZDMuY3N2KCdEYXRhX2Zvcl90cmVlbWFwLmNzdicpKQogICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbih2YWx1ZXMgPT4gewogICAgICAgIHRoaXMucmF3RGF0YSA9IHZhbHVlcwogICAgICAgIHRoaXMubGluZURhdGEgPSB2YWx1ZXNbMF0KICAgICAgICB0aGlzLnJlZ2lvbiA9IHZhbHVlc1sxXQogICAgICAgIHRoaXMudHJlZW1hcERhdGEgPSB2YWx1ZXNbMl0KICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2h0bWxNYXBEYXRhJywgdGhpcy5yYXdEYXRhKTsKICAgICAgICAvL3RoaXMuY2hhcnQoKTsKICAgICAgICB0aGlzLmJ1aWxkTGluZUNoYXJ0KCk7CiAgICAgICAgdGhpcy5idWlsZFRyZWVtYXAoKTsKICAgICAgfSkKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMucmF3RGF0YSA9IHRoaXMuJHN0b3JlLnN0YXRlLmh0bWxNYXBEYXRhOwogICAgICB0aGlzLmxpbmVEYXRhID0gdGhpcy5yYXdEYXRhWzBdCiAgICAgIHRoaXMucmVnaW9uID0gdGhpcy5yYXdEYXRhWzFdCiAgICAgIHRoaXMudHJlZW1hcERhdGEgPSB0aGlzLnJhd0RhdGFbMl0KICAgICAgdGhpcy5jaGFydCgpOwogICAgICB0aGlzLmJ1aWxkTGluZUNoYXJ0KCk7CiAgICAgIHRoaXMuYnVpbGRUcmVlbWFwKCk7CiAgICB9CgogICAgfQogIH0KCg=="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA0BA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA","file":"Dashboard.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"about\">\n    <b-tabs content-class=\"mt-3\">\n        <b-tab title=\"Line Chart\" active>\n            <h1>Interactive & Animated Line Chart</h1>\n            <div class=\"title\"> Number Of Delayed Flight Count For Carriers Through Time</div>\n            <br />\n            <label class=\"guideline\">\n              Show Guideline & Curtain\n              <input type=\"checkbox\" id=\"show_guideline\" />\n            </label>\n            <br />\n            <svg width=\"1200\" height=\"600\" id=\"line_chart\"></svg>\n        </b-tab>\n\n        <b-tab title=\"D3 Layout\">\n            <h1>D3 Animated Treemap</h1>\n            <div class=\"title\"> Number Of Delayed Flight Count For Carriers Through Time</div>\n            <svg width=\"954\" height=\"954\" id=\"treemap\"></svg>\n        </b-tab>\n    </b-tabs>\n  </div>\n</template>\n\n<script>\n\nimport * as d3 from 'd3';\nimport {nest} from 'd3-collection';\n\nexport default {\n  name: 'd3Chart',\n  data: function () {\n    return {\n      rawData: null,\n      lineData: null,\n      region:null,\n      treemapData:null\n    }\n  },\n  methods: {\n    chart(){\n\n      var width = 800;\n      var height = 600;\n      var margin = 50;\n      var xScale = d3.scaleLinear()\n                .domain([0,2021])\n                .range([0, width]);\n\n      var yScale = d3.scaleLinear()\n                .domain([0, 1000])\n                .range([height, 0]);\n\n      var svg = d3.select(\"#line_chart\")\n              .append(\"svg\")\n              .attr(\"width\", width+margin)\n              .attr(\"height\", height+margin)\n              .append('g')\n              .attr(\"transform\", `translate(${margin}, ${margin})`);\n              \n      var xAxis = d3.axisBottom(xScale).ticks(5);\n      var yAxis = d3.axisLeft(yScale).ticks(5);\n\n      svg.append(\"g\")\n        .attr(\"class\", \"x axis\")\n        .attr(\"transform\", `translate(0, ${height-margin})`)\n        .call(xAxis)\n        .text(\"Year\");\n        \n        svg.append(\"g\")\n        .attr(\"class\", \"y axis\")\n        .call(yAxis)\n        .append('text')\n        .attr(\"y\", 15)\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"fill\", \"#000\")\n        .text(\"Number of Delayed Flights\");\n    },\n    buildLineChart() {\n      /*var width = 800;\n      var height = 800;\n      var margin = 50;\n      var duration = 250;\n      */\n      var lineOpacity = \"0.25\";\n      var lineOpacityHover = \"0.85\";\n      var otherLinesOpacityHover = \"0.25\";\n      var lineStroke = \"2px\";\n      var lineStrokeHover = \"3.5px\";\n      /*\n      var circleOpacity = '0.85';\n      var circleOpacityOnLineHover = \"0.25\"\n      var circleRadius = 3;\n      var circleRadiusHover = 6;*/\n\n      var parseDate = d3.timeParse(\"%Y-%m-%d\");\n\n      var data = this.lineData;\n      //console.log(data[0].FL_DATE); //this works\n\n      data.forEach(function(d) { \n        d.date = parseDate(d.FL_DATE);\n        d.carrier = d.MKT_UNIQUE_CARRIER;\n        d.delay = +d.NUM_OF_DELAY;  \n\n      });\n\n      \n      var sumstat = nest() // nest function allows to group the calculation per level of a factor\n          .key(function(d) { return d.carrier;})\n          .entries(data);\n\n      console.log(sumstat); //working\n\n      var arr_time = d3.extent(data, function(d) { return d.date; })\n      \n      var margin = {top: 10, right: 30, bottom: 30, left: 60},\n          width = 1200 - margin.left - margin.right,\n          height = 600 - margin.top - margin.bottom;\n\n      // append the svg object to the body of the page\n      var svg = d3.select(\"#line_chart\")\n        .append(\"svg\")\n          .attr(\"width\", width + margin.left + margin.right)\n          .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n          .attr(\"transform\",\n                \"translate(\" + margin.left + \",\" + margin.top + \")\");\n\n      //console.log(arr_time); //working\n      //Add x-axis\n      var x = d3.scaleLinear()\n        .domain(arr_time)\n        .range([ 0, width ]);\n      svg.append(\"g\")\n        .transition()\n        .attr(\"transform\", \"translate(0,\" + height + \")\")\n        .call(d3.axisBottom(x).ticks(32).tickFormat(d3.timeFormat('%b %d')));\n\n      var max_data = d3.max(data, function(d) { return +d.delay; })\n      console.log(max_data)\n\n      // Add y-axis\n      var y = d3.scaleLinear()\n        .domain([0, max_data])\n        .range([ height, 0 ]);\n      svg.append(\"g\")\n        .call(d3.axisLeft(y))\n        .append('text')\n        .attr(\"x\", -150)\n        .attr(\"y\", -40)\n        .attr(\"transform\", \"rotate(-90)\")\n        .attr(\"fill\", \"#696969\")\n        .attr(\"font-size\", \"14px\")\n        .text(\"Number of Delayed Flights\");\n\n      var color = d3.scaleOrdinal(d3.schemeCategory10);\n\n      const transitionPath = d3\n        .transition()\n        .ease(d3.easeSin)\n        .duration(1000);\n      console.log(transitionPath)\n\n      svg.selectAll(\".line\")\n      .data(sumstat)\n      .enter()\n      .append(\"path\")\n        .attr(\"fill\", \"none\")\n        .attr(\"stroke\", function(d){ return color(d.key) })\n        .attr(\"stroke-width\", lineStroke)\n        .attr(\"opacity\", lineOpacity)\n        .attr(\"d\", function(d){\n          return d3.line()\n            .x(function(d) { return x(d.date); })\n            .y(function(d) { return y(+d.delay); })(d.values)\n        })\n        .on(\"mouseover\", function(d,i) {\n          console.log(i)\n            svg.append(\"text\")\n              .transition()\n              .ease(d3.easeSin)\n              .attr(\"class\", \"title-text\")\n              .style(\"fill\", color(i.key))  \n              .style(\"font-size\", \"22px\")      \n              .text(\"Carrier: \"+i.key)\n              .attr(\"text-anchor\", \"middle\")\n              .attr(\"x\", 100)\n              .attr(\"y\", 20);\n            d3.selectAll('.line')\n            .style('opacity', otherLinesOpacityHover);\n            d3.select(this)\n              .style('opacity', lineOpacityHover)\n              .style(\"stroke-width\", lineStrokeHover)\n              .style(\"cursor\", \"pointer\");\n          })\n        .on(\"mouseout\", function() {\n            svg.select(\".title-text\").remove();\n            d3.selectAll(\".line\")\n                .style('opacity', lineOpacity);\n            d3.select(this)\n              .style('opacity', lineOpacity)\n              .style(\"stroke-width\", lineStroke)\n              .style(\"cursor\", \"none\");\n          })\n          ;\n\n        \n      \n        var curtain = svg.append('rect')\n          .attr('x', -1 * width)\n          .attr('y', -1 * height)\n          .attr('height', height)\n          .attr('width', width)\n          .attr('class', 'curtain')\n          .attr('transform', 'rotate(180)')\n          .style('fill', '#ffffff');\n          \n        /* Optionally add a guideline */\n        var guideline = svg.append('line')\n          .attr('stroke', '#333')\n          .attr('stroke-width', 0)\n          .attr('class', 'guide')\n          .attr('x1', 1)\n          .attr('y1', 1)\n          .attr('x2', 1)\n          .attr('y2', height)\n          \n        /* Create a shared transition for anything we're animating */\n        var t = svg.transition()\n          .delay(750)\n          .duration(6000)\n          .ease(d3.easeLinear)\n          .on('end', function() {\n            d3.select('line.guide')\n              .transition()\n              .style('opacity', 0)\n              .remove()\n          });\n        \n        t.select('rect.curtain')\n          .attr('width', 0);\n        t.select('line.guide')\n          .attr('transform', 'translate(' + width + ', 0)')\n\n        d3.select(\"#show_guideline\").on(\"change\", function() {\n          guideline.attr('stroke-width', this.checked ? 1 : 0);\n          curtain.attr(\"opacity\", this.checked ? 0.75 : 1);\n        })                              \n    },\n    buildTreemap() {\n      var width = 954;\n      var height = 954;\n\n      const keys = d3.range(1, 32);\n      console.log(keys)\n      console.log(this.treemapData)\n\n      var data = this.treemapData;\n\n      data.forEach(function(d) { \n        d.name = d.ORIGIN_STATE_NM\n        d.values =  keys.map(key => +d[key].replace(/,/g, \"\"))\n      });\n      console.log(data)\n      \n      const regionByState = new Map(this.region.map(d => [d.State, d.Region]));\n      console.log(regionByState)\n      const divisionByState = new Map(this.region.map(d => [d.State, d.Division]));\n      console.log(divisionByState)\n\n      const group = d3.group(data, d => regionByState.get(d.ORIGIN_STATE_NM), d => divisionByState.get(d.ORIGIN_STATE_NM))\n      console.log(group)\n\n      var color = d3.scaleOrdinal(group.keys(), d3.schemeCategory10.map(d => d3.interpolateRgb(d, \"white\")(0.5)))\n      console.log(color)\n\n      var sums = keys.map((d, i) => d3.hierarchy(group).sum(d => d.values[i]).value);\n      console.log(sums)\n\n      var max = d3.max(sums);\n      console.log(max)\n\n      const treemap = d3.treemap()\n      .tile(d3.treemapResquarify)\n      .size([width, height])\n      .padding(d => d.height === 1 ? 1 : 0)\n      .round(true);\n\n      console.log(treemap)\n\n      const root = treemap(d3.hierarchy(group)\n        .sum(d => Array.isArray(d.values) ? d3.sum(d.values) : 0)\n        .sort((a, b) => b.value - a.value));\n      console.log(root)\n    \n\n    var svg = d3.select(\"#treemap\")\n        .append(\"svg\")\n        .attr(\"font-family\", \"sans-serif\")\n        .attr(\"font-size\", 10)\n        .style(\"overflow\", \"visible\");\n\n    var formatNumber = d3.format(\",d\");\n    var duration = 2500;\n    var parseNumber = string => +string.replace(/,/g, \"\");\n\n    var box = svg.append(\"g\")\n    .selectAll(\"g\")\n    .data(keys.map((key, i) => {\n      const value = root.sum(d => d.values[i]).value;\n      return {key, value, i, k: Math.sqrt(value / max)};\n    }).reverse())\n    .join(\"g\")\n      .attr(\"transform\", ({k}) => `translate(${(1 - k) / 2 * width},${(1 - k) / 2 * height})`)\n      .call(g => g.append(\"text\")\n          .attr(\"y\", -6)\n          .attr(\"fill\", \"#777\")\n        .selectAll(\"tspan\")\n        .data(({key, value}) => [key, ` ${formatNumber(value)}`])\n        .join(\"tspan\")\n          .attr(\"font-weight\", (d, i) => i === 0 ? \"bold\" : null)\n          .text(d => d))\n      .call(g => g.append(\"rect\")\n          .attr(\"fill\", \"none\")\n          .attr(\"stroke\", \"#ccc\")\n          .attr(\"width\", ({k}) => k * width )\n          .attr(\"height\", ({k}) => k * height));\n      \n      console.log(box)\n\n       const leaf = svg.append(\"g\")\n          .selectAll(\"g\")\n          .data(layout(keys))\n          .join(\"g\")\n            .attr(\"transform\", d => `translate(${d.x0},${d.y0})`);\n        console.log(leaf)\n        \n        leaf.append(\"rect\")\n            //.attr(\"id\", d => (d.leafUid = DOM.uid(\"leaf\")).id)\n            .attr(\"fill\", d => { while (d.depth > 1) d = d.parent; return color(keys); })\n            .attr(\"width\", d => d.x1 - d.x0)\n            .attr(\"height\", d => d.y1 - d.y0);\n        /*\n        leaf.append(\"clipPath\")\n            .attr(\"id\", d => (d.clipUid = DOM.uid(\"clip\")).id)\n          .append(\"use\")\n            .attr(\"xlink:href\", d => d.leafUid.href);\n        */\n        leaf.append(\"text\")\n            .attr(\"clip-path\", d => d.clipUid)\n          .selectAll(\"tspan\")\n          .data([group.name, formatNumber(group.value)])\n          .join(\"tspan\")\n            .attr(\"x\", 3)\n            .attr(\"y\", (d, i, nodes) => `${(i === nodes.length - 1) * 0.3 + 1.1 + i * 0.9}em`)\n            .attr(\"fill-opacity\", (d, i, nodes) => i === nodes.length - 1 ? 0.7 : null)\n            .text(d => d);\n\n        leaf.append(\"title\")\n            .text(group.name);\n\n        function layout(index) {\n          const k = Math.sqrt(root.sum(d => d.values[index]).value / max);\n          const x = (1 - k) / 2 * width;\n          const y = (1 - k) / 2 * height;\n          return treemap.size([width * k, height * k])(root)\n            .each(d => (d.x0 += x, d.x1 += x, d.y0 += y, d.y1 += y))\n            .leaves();\n        }\n\n  return Object.assign(svg.node(), {\n    update(index) {\n      box.transition()\n          .duration(duration)\n          .attr(\"opacity\", ({i}) => i >= index ? 1 : 0);\n\n      leaf.data(layout(index)).transition()\n          .duration(duration)\n          .ease(d3.easeLinear)\n          .attr(\"transform\", d => `translate(${d.x0},${d.y0})`)\n          .call(leaf => leaf.select(\"rect\")\n              .attr(\"width\", d => d.x1 - d.x0)\n              .attr(\"height\", d => d.y1 - d.y0))\n          .call(leaf => leaf.select(\"text tspan:last-child\")\n              .tween(\"text\", function(d) {\n                const i = d3.interpolate(parseNumber(this.textContent), d.value);\n                return function(t) { this.textContent = formatNumber(i(t)); };\n              }));\n    }\n  });\n\n    }\n\n  },\n  mounted: function () {\n\n    if (!this.$store.state.htmlMapData) {\n      var promises = []\n      promises.push(d3.csv('Data_for_line_chart.csv'))\n      promises.push(d3.csv('us-region.csv'))\n      promises.push(d3.csv('Data_for_treemap.csv'))\n      Promise.all(promises).then(values => {\n        this.rawData = values\n        this.lineData = values[0]\n        this.region = values[1]\n        this.treemapData = values[2]\n        this.$store.commit('htmlMapData', this.rawData);\n        //this.chart();\n        this.buildLineChart();\n        this.buildTreemap();\n      })\n    } else {\n      this.rawData = this.$store.state.htmlMapData;\n      this.lineData = this.rawData[0]\n      this.region = this.rawData[1]\n      this.treemapData = this.rawData[2]\n      this.chart();\n      this.buildLineChart();\n      this.buildTreemap();\n    }\n\n    }\n  }\n\n</script>\n\n<style>\n.title{\n  font-size: 24px;\n\n}\n\n</style>\n\n/*reference:\nOverall:\nhttps://observablehq.com/@hydrosquall/d3-tutorial-interactivity-animated-transitions\n\nLine Plot:\nhttps://www.d3-graph-gallery.com/graph/line_several_group.html\n\nMouseOver:\nhttp://bl.ocks.org/WilliamQLiu/76ae20060e19bf42d774\nhttps://codepen.io/zakariachowdhury/pen/JEmjwq\n\nAnimation:\nhttps://bl.ocks.org/phvaillant/53b90038b9c5ac5f6b817a4f63fbc2af\nhttp://bl.ocks.org/atmccann/8966400\n\n*/"]}]}