{"remainingRequest":"/Users/weidil/Desktop/DSCI-554/project-elements/demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/weidil/Desktop/DSCI-554/project-elements/demo/src/views/Map.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/weidil/Desktop/DSCI-554/project-elements/demo/src/views/Map.vue","mtime":1637295078179},{"path":"/Users/weidil/Desktop/DSCI-554/project-elements/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidil/Desktop/DSCI-554/project-elements/demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/weidil/Desktop/DSCI-554/project-elements/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/weidil/Desktop/DSCI-554/project-elements/demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCAqIGFzIGQzIGZyb20gImQzIgppbXBvcnQgKiBhcyB0b3BvanNvbiBmcm9tICd0b3BvanNvbicKaW1wb3J0IE1hcGJveCBmcm9tICJtYXBib3gtZ2wiOwppbXBvcnQgKiBhcyB0dXJmIGZyb20gIkB0dXJmL3R1cmYiOwovLyBpbXBvcnQgeyBNZ2xNYXAgfSBmcm9tICJ2dWUtbWFwYm94IjsKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAndXNfbWFwJywKICBkYXRhOiBmdW5jdGlvbiAoKSB7CgogICAgcmV0dXJuIHsKICAgICAgbWFwRGF0YTogbnVsbCwKICAgICAgZmxpZ2h0c0RhdGE6IG51bGwsCiAgICAgIHJhd0RhdGE6IG51bGwsCiAgICAgIGFpcnBvcnRfZ2VvOiBudWxsLAogICAgICBjdXJyX2FpcnBvcnQ6IG51bGwsCiAgICAgIGRhdGVWYWx1ZTogJzIwMjEtMDgtMDEnLAogICAgICBtaW46ICcyMDIxLTA4LTAxJywKICAgICAgbWF4OiAnMjAyMS0wOC0zMScsCiAgICAgIHNlbGVjdGVkOiBudWxsLAogICAgICBvcHRpb25zOiBbCiAgICAgICAgeyB2YWx1ZTogbnVsbCx0ZXh0OiAnUGxlYXNlIHNlbGVjdCBhbiBhaXJwb3J0J30sCiAgICAgICAgJ0FCUScsJ0FOQycsJ0FUTCcsJ0JETCcsJ0JITScsJ0JOQScsJ0JPSScsJ0JPUycsJ0JUVicsJ0JXSScsJ0JaTicsJ0NIUycsJ0NMRScsJ0NMVCcsJ0NSVycsJ0NWRycsJ0RDQScsJ0RFTicsJ0RGVycsJ0RTTScsJ0RUVycsCiAgICAgICAgJ0VXUicsJ0ZBUicsJ0ZTRCcsJ0dVTScsJ0hOTCcsJ0lDVCcsJ0lMRycsJ0lORCcsJ0pBQycsJ0pBTicsJ0pGSycsJ0xBUycsJ0xBWCcsJ0xJVCcsJ01DTycsJ01IVCcsJ01LRScsJ01TUCcsJ01TWScsJ09LQycsJ09NQScsCiAgICAgICAgJ09SRCcsJ1BEWCcsJ1BITCcsJ1BIWCcsJ1BWRCcsJ1BXTScsJ1NFQScsJ1NKVScsJ1NMQycsJ1NUTCcsJ1NUVCddLAogICAgICByb3V0ZXM6IHsKICAgICAgICAndHlwZSc6ICdGZWF0dXJlQ29sbGVjdGlvbicsCiAgICAgICAgJ2ZlYXR1cmVzJzogW10KICAgICAgfSwKICAgICAgbWFwOiBudWxsCiAgICB9CiAgfSwgCiAgd2F0Y2g6IHsKICAgIHNlbGVjdGVkKCkgewogICAgICBpZiAodGhpcy5zZWxlY3RlZCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy51cGRhdGVSb3V0ZSgpCiAgICAgIH0KICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGRyYXdQYXRoKHN0YXRlKSB7CiAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLmZsaWdodHNEYXRhLmZpbHRlcihkID0+IGQuT1JJR0lOX1NUQVRFX05NID09IHN0YXRlICYmIGQuRkxfREFURSA9PSB0aGlzLmRhdGVWYWx1ZSkKICAgICAgdmFyIGxvY2FsX2FpcnBvcnQgPSBzdGF0ZURhdGFbMF0uT1JJR0lOCiAgICAgIGlmICh0aGlzLmN1cnJfYWlycG9ydCA9PSBudWxsKXsKICAgICAgICB0aGlzLmN1cnJfYWlycG9ydCA9IGxvY2FsX2FpcnBvcnQKICAgICAgICB2YXIgbGluayA9IFtdCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF0ZURhdGEubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIHZhciBmcm9tID0gc3RhdGVEYXRhW2ldLk9SSUdJTgogICAgICAgICAgdmFyIHRvID0gc3RhdGVEYXRhW2ldLkRFU1QKICAgICAgICAgIC8vIHZhciBmcm9tX2NpdHkgPSBzdGF0ZURhdGFbaV0uT1JJR0lOX0NJVFlfTkFNRQogICAgICAgICAgLy8gdmFyIHRvX2NpdHkgPSBzdGF0ZURhdGFbaV0uREVTVF9DSVRZX05BTUUKICAgICAgICAgIHZhciBkZWxfdCA9IHN0YXRlRGF0YVtpXS5BUlJfREVMQVkKICAgICAgICAgIHZhciBjYXJyaWVyID0gc3RhdGVEYXRhW2ldLkNBUlJJRVJfREVMQVkKICAgICAgICAgIHZhciB3ZWF0aGVyID0gc3RhdGVEYXRhW2ldLldFQVRIRVJfREVMQVkKICAgICAgICAgIHZhciBuYXMgPSBzdGF0ZURhdGFbaV0uTkFTX0RFTEFZCiAgICAgICAgICB2YXIgc2VjID0gc3RhdGVEYXRhW2ldLlNFQ1VSSVRZX0RFTEFZCiAgICAgICAgICB2YXIgYWlyY3JhZnQgPSBzdGF0ZURhdGFbaV0uTEFURV9BSVJDUkFGVF9ERUxBWQogICAgICAgICAgdmFyIGZyb21fbG5nID0gdGhpcy5haXJwb3J0X2dlby5maWx0ZXIoZCA9PiBkLmxvY2FsX2NvZGUgPT0gZnJvbSlbMF0ubG9uZ2l0dWRlX2RlZwogICAgICAgICAgdmFyIGZyb21fbGF0ID0gdGhpcy5haXJwb3J0X2dlby5maWx0ZXIoZCA9PiBkLmxvY2FsX2NvZGUgPT0gZnJvbSlbMF0ubGF0aXR1ZGVfZGVnCiAgICAgICAgICB2YXIgdG9fbG5nID0gdGhpcy5haXJwb3J0X2dlby5maWx0ZXIoZCA9PiBkLmxvY2FsX2NvZGUgPT0gdG8pWzBdLmxvbmdpdHVkZV9kZWcKICAgICAgICAgIHZhciB0b19sYXQgPSB0aGlzLmFpcnBvcnRfZ2VvLmZpbHRlcihkID0+IGQubG9jYWxfY29kZSA9PSB0bylbMF0ubGF0aXR1ZGVfZGVnCiAgICAgICAgICBsaW5rLnB1c2goewogICAgICAgICAgICB0eXBlOiAiTGluZVN0cmluZyIsCiAgICAgICAgICAgIGNvb3JkaW5hdGVzOiBbW2Zyb21fbG5nLCBmcm9tX2xhdF0sW3RvX2xuZywgdG9fbGF0XV0sCiAgICAgICAgICAgIGZyb206IGZyb20sCiAgICAgICAgICAgIHRvOiB0bywKICAgICAgICAgICAgZGVsX3Q6IGRlbF90LAogICAgICAgICAgICBjYXJyaWVyOiBjYXJyaWVyLAogICAgICAgICAgICB3ZWF0aGVyOiB3ZWF0aGVyLAogICAgICAgICAgICBuYXM6IG5hcywKICAgICAgICAgICAgc2VjOiBzZWMsCiAgICAgICAgICAgIGFpcmNyYWZ0OiBhaXJjcmFmdAoKICAgICAgICAgIH0pCiAgICAgICAgfQogICAgICAgIHZhciBwcm9qZWN0aW9uID0gZDMuZ2VvQWxiZXJzVXNhKCkuc2NhbGUoMTMwMCkudHJhbnNsYXRlKFs0ODcuNSwgMzA1XSk7CiAgICAgICAgdmFyIHBhdGggPSBkMy5nZW9QYXRoKCkucHJvamVjdGlvbihwcm9qZWN0aW9uKTsKICAgICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjdXNfbWFwJykKICAgICAgICBzdmcuc2VsZWN0QWxsKCJteVBhdGgiKQogICAgICAgICAgLmRhdGEobGluaykKICAgICAgICAgIC5lbnRlcigpCiAgICAgICAgICAuYXBwZW5kKCJwYXRoIikKICAgICAgICAgICAgLmF0dHIoJ2NsYXNzJywgYCR7dGhpcy5jdXJyX2FpcnBvcnR9YCkKICAgICAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCAndmlzaWJsZScpCiAgICAgICAgICAgIC5hdHRyKCJkIiwgZnVuY3Rpb24oZCl7IHJldHVybiBwYXRoKGQpfSkKICAgICAgICAgICAgLnN0eWxlKCJmaWxsIiwgIm5vbmUiKQogICAgICAgICAgICAuc3R5bGUoInN0cm9rZSIsICJvcmFuZ2UiKQogICAgICAgICAgICAuc3R5bGUoInN0cm9rZS13aWR0aCIsIDIpCiAgICAgICAgICAgIC5vbignbW91c2VvdmVyJywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKQogICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlJywgJ3JlZCcpCiAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2Utd2lkdGgnLCA4KQogICAgICAgICAgICB9KQogICAgICAgICAgICAub24oJ21vdXNlb3V0JywgZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgIGQzLnNlbGVjdCh0aGlzKQogICAgICAgICAgICAgICAgLnN0eWxlKCdzdHJva2UnLCAnb3JhbmdlJykKICAgICAgICAgICAgICAgIC5zdHlsZSgnc3Ryb2tlLXdpZHRoJywgMikKICAgICAgICAgICAgfSkKICAgICAgICAgICAgLmFwcGVuZCgndGl0bGUnKQogICAgICAgICAgICAudGV4dChkID0+IGBGcm9tOiAke2QuZnJvbX0gXG5UbzogJHtkLnRvfSBcbkRlbGF5ZWQgVGltZTogJHtkZWxfdH0gXG5DYXJyaWVyOiAke2NhcnJpZXJ9IFxuV2VhdGhlcjogJHt3ZWF0aGVyfSBcbk5BUzogJHtuYXN9IFxuIFNlY3VyaXR5OiAke3NlY30gXG5BaXJjcmFmdDogJHthaXJjcmFmdH1gKQogICAgICAgICAgICAKICAgICAgfSBlbHNlIGlmICh0aGlzLmN1cnJfYWlycG9ydCA9PSBsb2NhbF9haXJwb3J0KSB7CiAgICAgICAgZDMuc2VsZWN0QWxsKGAuJHt0aGlzLmN1cnJfYWlycG9ydH1gKQogICAgICAgICAgLmF0dHIoJ2Rpc3BsYXknLCAnbm9uZScpCiAgICAgICAgdGhpcy5jdXJyX2FpcnBvcnQgPSBudWxsCiAgICAgIH0gZWxzZSB7CiAgICAgICAgYWxlcnQoJ2NsaWNrIHRoZSBzdGF0ZSBzaG93biBmaXJzdCcpCiAgICAgIH0KICAgICAgCiAgICB9LAogICAgY3JlYXRlZCgpe3dpbmRvdy5kcmF3UGF0aCA9dGhpcy5kcmF3UGF0aDt9LAogICAgYnVpbGRNYXAgKCkgewogICAgICAvLyB2YXIgZHJhd1BhdGggPSB0aGlzLmRyYXdQYXRoKCkKICAgICAgdmFyIHN2ZyA9IGQzLnNlbGVjdCgnI3VzX21hcCcpCiAgICAgICAgLmF0dHIoJ3ZpZXdCb3gnLCBbMCwgMCwgOTc1LCA2MTBdKQogICAgICB2YXIgcGF0aCA9IGQzLmdlb1BhdGgoKTsKICAgICAgCgkJCQlzdmcuYXBwZW5kKCdnJykKCQkJCQkuYXR0cignY2xhc3MnLCAnc3RhdGVzJykKCQkJCQkuc2VsZWN0QWxsKCdwYXRoJykKCQkJCQkuZGF0YSh0b3BvanNvbi5mZWF0dXJlKHRoaXMubWFwRGF0YSwgdGhpcy5tYXBEYXRhLm9iamVjdHMuc3RhdGVzKS5mZWF0dXJlcykgIAoJCQkJCS5lbnRlcigpCgkJCQkJLmFwcGVuZCgncGF0aCcpCiAgICAgICAgICAuYXR0cignb25jbGljaycsIGQgPT4gKGBkcmF3UGF0aCgnJHtkLnByb3BlcnRpZXMubmFtZX0nKWApKQoJCQkJCS5hdHRyKCdkJywgcGF0aCkKICAgICAgICAKCQkJCgkJCQlzdmcuYXBwZW5kKCdwYXRoJykgIC8v8J+OkiBleHBsYWluOgoJCQkJCS5hdHRyKCdjbGFzcycsICdzdGF0ZS1ib3JkZXJzJykKCQkJCQkuYXR0cignZCcsIHBhdGgodG9wb2pzb24ubWVzaCh0aGlzLm1hcERhdGEsIHRoaXMubWFwRGF0YS5vYmplY3RzLnN0YXRlcywgKGEsIGIpID0+IGEgIT09IGIpKSk7IAogICAgfSwKICAgIGJ1aWxkTWFwYm94ICgpIHsKICAgICAgTWFwYm94LmFjY2Vzc1Rva2VuID0gJ3BrLmV5SjFJam9pZDJ4dmRTSXNJbUVpT2lKamEzWTJjR0V3TW04eGJXdHNNbTV1Ym1OdGQydGxObkUwSW4wLld5N3dPVk41LU5KNlllOGt6Q1ZjQmcnOwogICAgICBjb25zdCBtYXAgPSBuZXcgTWFwYm94Lk1hcCh7CiAgICAgICAgY29udGFpbmVyOiAnbWJmbScsIC8vIGNvbnRhaW5lciBJRAogICAgICAgIHN0eWxlOiAnbWFwYm94Oi8vc3R5bGVzL21hcGJveC9kYXJrLXYxMCcsIC8vIHN0eWxlIFVSTAogICAgICAgIGNlbnRlcjogWy05OC41ODMzMzMsMzkuODMzMzMzXSwgLy8gc3RhcnRpbmcgcG9zaXRpb24gW2xuZywgbGF0XQogICAgICAgIHpvb206IDMuNSAvLyBzdGFydGluZyB6b29tCiAgICAgIH0pOwoKICAgICAgY29uc3Qgcm91dGUgPSB7CiAgICAgICAgJ3R5cGUnOiAnRmVhdHVyZUNvbGxlY3Rpb24nLAogICAgICAgICdmZWF0dXJlcyc6IFtdCiAgICAgIH0KICAgICAgbWFwLm9uKCdsb2FkJywgZnVuY3Rpb24gKCkgeyAKICAgICAgICBtYXAucmVzaXplKCkKICAgICAgICAvLyBtYXAucmVzaXplKCkKICAgICAgICBtYXAuYWRkU291cmNlKGByb3V0ZWAsIHsKICAgICAgICAgICd0eXBlJzogJ2dlb2pzb24nLAogICAgICAgICAgJ2RhdGEnOiByb3V0ZQogICAgICAgIH0pCiAgICAgICAgbWFwLmFkZExheWVyKHsKICAgICAgICAgICdpZCc6IGByb3V0ZWAsCiAgICAgICAgICAnc291cmNlJzogYHJvdXRlYCwKICAgICAgICAgICd0eXBlJzogJ2xpbmUnLAogICAgICAgICAgJ3BhaW50JzogewogICAgICAgICAgICAnbGluZS13aWR0aCc6IDIsCiAgICAgICAgICAgICdsaW5lLWNvbG9yJzogJyMwMDdjYmYnCiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSkKICAgICAgdGhpcy5tYXAgPSBtYXAKICAgIH0sCiAgICB1cGRhdGVSb3V0ZSAoKSB7CiAgICAgIHRoaXMucm91dGVzID0gewogICAgICAgICd0eXBlJzogJ0ZlYXR1cmVDb2xsZWN0aW9uJywKICAgICAgICAnZmVhdHVyZXMnOiBbXQogICAgICAgIH0KICAgICAgaWYgKHRoaXMuc2VsZWN0ZWQgIT0gbnVsbCkgewogICAgICAgIHZhciBzdGF0ZURhdGEgPSB0aGlzLmZsaWdodHNEYXRhLmZpbHRlcihkID0+IGQuT1JJR0lOID09IHRoaXMuc2VsZWN0ZWQgJiYgZC5GTF9EQVRFID09IHRoaXMuZGF0ZVZhbHVlKQogICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdGVEYXRhLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB2YXIgZnJvbSA9IHN0YXRlRGF0YVtpXS5PUklHSU4KICAgICAgICAgIHZhciB0byA9IHN0YXRlRGF0YVtpXS5ERVNUCiAgICAgICAgICAvLyB2YXIgZGVsX3QgPSBzdGF0ZURhdGFbaV0uQVJSX0RFTEFZCiAgICAgICAgICAvLyB2YXIgY2FycmllciA9IHN0YXRlRGF0YVtpXS5DQVJSSUVSX0RFTEFZCiAgICAgICAgICAvLyB2YXIgd2VhdGhlciA9IHN0YXRlRGF0YVtpXS5XRUFUSEVSX0RFTEFZCiAgICAgICAgICAvLyB2YXIgbmFzID0gc3RhdGVEYXRhW2ldLk5BU19ERUxBWQogICAgICAgICAgLy8gdmFyIHNlYyA9IHN0YXRlRGF0YVtpXS5TRUNVUklUWV9ERUxBWQogICAgICAgICAgLy8gdmFyIGFpcmNyYWZ0ID0gc3RhdGVEYXRhW2ldLkxBVEVfQUlSQ1JBRlRfREVMQVkKICAgICAgICAgIHZhciBmcm9tX2xuZyA9IHRoaXMuYWlycG9ydF9nZW8uZmlsdGVyKGQgPT4gZC5sb2NhbF9jb2RlID09IGZyb20pWzBdLmxvbmdpdHVkZV9kZWcKICAgICAgICAgIHZhciBmcm9tX2xhdCA9IHRoaXMuYWlycG9ydF9nZW8uZmlsdGVyKGQgPT4gZC5sb2NhbF9jb2RlID09IGZyb20pWzBdLmxhdGl0dWRlX2RlZwogICAgICAgICAgdmFyIHRvX2xuZyA9IHRoaXMuYWlycG9ydF9nZW8uZmlsdGVyKGQgPT4gZC5sb2NhbF9jb2RlID09IHRvKVswXS5sb25naXR1ZGVfZGVnCiAgICAgICAgICB2YXIgdG9fbGF0ID0gdGhpcy5haXJwb3J0X2dlby5maWx0ZXIoZCA9PiBkLmxvY2FsX2NvZGUgPT0gdG8pWzBdLmxhdGl0dWRlX2RlZwogICAgICAgICAgLy8gY29uc3QgZGVzdGluYXRpb24gPSBbLTc3LjAzMiwgMzguOTEzXTsKCiAgICAgICAgICAvLyBBIHNpbXBsZSBsaW5lIGZyb20gb3JpZ2luIHRvIGRlc3RpbmF0aW9uLgogICAgICAgICAgdmFyIGdyZWF0Q2lyY2xlID0gdHVyZi5ncmVhdENpcmNsZShbZnJvbV9sbmcsIGZyb21fbGF0XSxbdG9fbG5nLCB0b19sYXRdLCB7cHJvcGVydGllczoge25hbWU6ICdDTk0nfX0pOwogICAgICAgICAgdGhpcy5yb3V0ZXMuZmVhdHVyZXMucHVzaChncmVhdENpcmNsZSkKICAgICAgICAgIAogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLm1hcC5nZXRTb3VyY2UoJ3JvdXRlJykuc2V0RGF0YSh0aGlzLnJvdXRlcyk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoIXRoaXMuJHN0b3JlLnN0YXRlLmh0bWxNYXBEYXRhKSB7CiAgICAgIHZhciBwcm9taXNlcyA9IFtdCiAgICAgIHByb21pc2VzLnB1c2goZDMuanNvbignc3RhdGVzLWFsYmVycy0xMG0uanNvbicpKQogICAgICBwcm9taXNlcy5wdXNoKGQzLmNzdignZmxpZ2h0cy5jc3YnKSkKICAgICAgcHJvbWlzZXMucHVzaChkMy5jc3YoJ2FpcnBvcnRfZ2VvLmNzdicpKQogICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbih2YWx1ZXMgPT4gewogICAgICAgIHRoaXMucmF3RGF0YSA9IHZhbHVlcwogICAgICAgIHRoaXMubWFwRGF0YSA9IHZhbHVlc1swXQogICAgICAgIHRoaXMuZmxpZ2h0c0RhdGEgPSB2YWx1ZXNbMV0KICAgICAgICB0aGlzLmFpcnBvcnRfZ2VvID0gdmFsdWVzWzJdCiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdodG1sTWFwRGF0YScsIHRoaXMucmF3RGF0YSk7CiAgICAgICAgdGhpcy5jcmVhdGVkKCk7CiAgICAgICAgdGhpcy5idWlsZE1hcCgpOwogICAgICAgIHRoaXMuYnVpbGRNYXBib3goKQogICAgICB9KQogICAgICAvLyBkMy5qc29uKCdzdGF0ZXMtYWxiZXJzLTEwbS5qc29uJykudGhlbihkYXRhID0+IHsKICAgICAgLy8gICB0aGlzLm1hcERhdGEgPSBkYXRhOwogICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCdjaGFydERhdGEgc2V0IGZyb20gZmlsZScpOwogICAgICAvLyAgIC8vIGNvbnNvbGUubG9nKCdjaGFydERhdGEgY29udGFpbnMnLCB0aGlzLm1hcERhdGEpOwogICAgICAvLyAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnaHRtbE1hcERhdGEnLCB0aGlzLm1hcERhdGEpOwoKICAgICAgLy8gICB0aGlzLmJ1aWxkTWFwKCk7CiAgICAgIC8vICAgfSk7CiAgICB9IGVsc2UgewogICAgICB0aGlzLnJhd0RhdGEgPSB0aGlzLiRzdG9yZS5zdGF0ZS5odG1sTWFwRGF0YTsKICAgICAgdGhpcy5tYXBEYXRhID0gdGhpcy5yYXdEYXRhWzBdCiAgICAgIHRoaXMuZmxpZ2h0c0RhdGEgPSB0aGlzLnJhd0RhdGFbMV0KICAgICAgdGhpcy5haXJwb3J0X2dlbyA9IHRoaXMucmF3RGF0YVsyXQogICAgICAvLyBjb25zb2xlLmxvZygnY2hhcnREYXRhIHNldCBmcm9tIHN0b3JlJyk7CiAgICAgIC8vIGNvbnNvbGUubG9nKCdjaGFydERhdGEgY29udGFpbnMnLCB0aGlzLm1hcERhdGEubGVuZ3RoLCAncm93cycpOwogICAgICB0aGlzLmNyZWF0ZWQoKTsKICAgICAgdGhpcy5idWlsZE1hcCgpOwogICAgICB0aGlzLmJ1aWxkTWFwYm94KCkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["Map.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Map.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"d3_map\">\n      <h1>This is an Map page</h1>\n      <b-tabs content-class=\"mt-3\">\n        <b-tab title=\"D3.map\" active>\n          <div>\n            <label for=\"datepicker\">Choose a date</label>\n            <b-form-datepicker id=\"datepicker\" :min=\"min\" :max=\"max\" v-model=\"dateValue\" class=\"mb-2\" placeholder=\"Sunday, August 1, 2021\"></b-form-datepicker>\n          </div>\n          <svg id='us_map'></svg>\n        </b-tab>\n        <b-tab title=\"Mapbox.map\">\n          <p>I'm the second tab</p>\n          <b-row>\n            <b-col>\n              <b-container>\n                <label for=\"datepicker1\">Choose a date</label>\n                <b-form-datepicker id=\"datepicker1\" :min=\"min\" :max=\"max\" v-model=\"dateValue\" class=\"mb-2\" placeholder=\"Sunday, August 1, 2021\"></b-form-datepicker>\n              </b-container>\n            </b-col>\n            <b-col>\n              <b-container>\n                <label for=\"aiportpicker\" >Choose Departure Airport</label>\n                <b-form-select id = \"airportpicker\" v-model=\"selected\" :options=\"options\" size='lg'></b-form-select>\n              </b-container>\n            </b-col>\n          </b-row>\n          <!-- <div id='mbfm' class=\"mapbox_container\"> -->\n            <!-- <div class='map-overlay' id='features'><h2>Building Capacity</h2><div id='pd'><p>Hover over a building!</p></div></div> -->\n            <!-- <div class='map-overlay' id='legend'></div> -->\n          <!-- </div> -->\n          <b-container id='mbfm' class=\"mapbox_container\">\n            <!-- Content here -->\n          </b-container>\n        </b-tab>\n      </b-tabs>\n    </div>\n</template>\n\n<script>\nimport * as d3 from \"d3\"\nimport * as topojson from 'topojson'\nimport Mapbox from \"mapbox-gl\";\nimport * as turf from \"@turf/turf\";\n// import { MglMap } from \"vue-mapbox\";\n\nexport default {\n  name: 'us_map',\n  data: function () {\n\n    return {\n      mapData: null,\n      flightsData: null,\n      rawData: null,\n      airport_geo: null,\n      curr_airport: null,\n      dateValue: '2021-08-01',\n      min: '2021-08-01',\n      max: '2021-08-31',\n      selected: null,\n      options: [\n        { value: null,text: 'Please select an airport'},\n        'ABQ','ANC','ATL','BDL','BHM','BNA','BOI','BOS','BTV','BWI','BZN','CHS','CLE','CLT','CRW','CVG','DCA','DEN','DFW','DSM','DTW',\n        'EWR','FAR','FSD','GUM','HNL','ICT','ILG','IND','JAC','JAN','JFK','LAS','LAX','LIT','MCO','MHT','MKE','MSP','MSY','OKC','OMA',\n        'ORD','PDX','PHL','PHX','PVD','PWM','SEA','SJU','SLC','STL','STT'],\n      routes: {\n        'type': 'FeatureCollection',\n        'features': []\n      },\n      map: null\n    }\n  }, \n  watch: {\n    selected() {\n      if (this.selected != null) {\n        this.updateRoute()\n      }\n    }\n  },\n  methods: {\n    drawPath(state) {\n      var stateData = this.flightsData.filter(d => d.ORIGIN_STATE_NM == state && d.FL_DATE == this.dateValue)\n      var local_airport = stateData[0].ORIGIN\n      if (this.curr_airport == null){\n        this.curr_airport = local_airport\n        var link = []\n        for (let i = 0; i < stateData.length; i++) {\n          var from = stateData[i].ORIGIN\n          var to = stateData[i].DEST\n          // var from_city = stateData[i].ORIGIN_CITY_NAME\n          // var to_city = stateData[i].DEST_CITY_NAME\n          var del_t = stateData[i].ARR_DELAY\n          var carrier = stateData[i].CARRIER_DELAY\n          var weather = stateData[i].WEATHER_DELAY\n          var nas = stateData[i].NAS_DELAY\n          var sec = stateData[i].SECURITY_DELAY\n          var aircraft = stateData[i].LATE_AIRCRAFT_DELAY\n          var from_lng = this.airport_geo.filter(d => d.local_code == from)[0].longitude_deg\n          var from_lat = this.airport_geo.filter(d => d.local_code == from)[0].latitude_deg\n          var to_lng = this.airport_geo.filter(d => d.local_code == to)[0].longitude_deg\n          var to_lat = this.airport_geo.filter(d => d.local_code == to)[0].latitude_deg\n          link.push({\n            type: \"LineString\",\n            coordinates: [[from_lng, from_lat],[to_lng, to_lat]],\n            from: from,\n            to: to,\n            del_t: del_t,\n            carrier: carrier,\n            weather: weather,\n            nas: nas,\n            sec: sec,\n            aircraft: aircraft\n\n          })\n        }\n        var projection = d3.geoAlbersUsa().scale(1300).translate([487.5, 305]);\n        var path = d3.geoPath().projection(projection);\n        var svg = d3.select('#us_map')\n        svg.selectAll(\"myPath\")\n          .data(link)\n          .enter()\n          .append(\"path\")\n            .attr('class', `${this.curr_airport}`)\n            .attr('display', 'visible')\n            .attr(\"d\", function(d){ return path(d)})\n            .style(\"fill\", \"none\")\n            .style(\"stroke\", \"orange\")\n            .style(\"stroke-width\", 2)\n            .on('mouseover', function () {\n              d3.select(this)\n              .style('stroke', 'red')\n              .style('stroke-width', 8)\n            })\n            .on('mouseout', function () {\n              d3.select(this)\n                .style('stroke', 'orange')\n                .style('stroke-width', 2)\n            })\n            .append('title')\n            .text(d => `From: ${d.from} \\nTo: ${d.to} \\nDelayed Time: ${del_t} \\nCarrier: ${carrier} \\nWeather: ${weather} \\nNAS: ${nas} \\n Security: ${sec} \\nAircraft: ${aircraft}`)\n            \n      } else if (this.curr_airport == local_airport) {\n        d3.selectAll(`.${this.curr_airport}`)\n          .attr('display', 'none')\n        this.curr_airport = null\n      } else {\n        alert('click the state shown first')\n      }\n      \n    },\n    created(){window.drawPath =this.drawPath;},\n    buildMap () {\n      // var drawPath = this.drawPath()\n      var svg = d3.select('#us_map')\n        .attr('viewBox', [0, 0, 975, 610])\n      var path = d3.geoPath();\n      \n\t\t\t\tsvg.append('g')\n\t\t\t\t\t.attr('class', 'states')\n\t\t\t\t\t.selectAll('path')\n\t\t\t\t\t.data(topojson.feature(this.mapData, this.mapData.objects.states).features)  \n\t\t\t\t\t.enter()\n\t\t\t\t\t.append('path')\n          .attr('onclick', d => (`drawPath('${d.properties.name}')`))\n\t\t\t\t\t.attr('d', path)\n        \n\t\t\t\n\t\t\t\tsvg.append('path')  //🎒 explain:\n\t\t\t\t\t.attr('class', 'state-borders')\n\t\t\t\t\t.attr('d', path(topojson.mesh(this.mapData, this.mapData.objects.states, (a, b) => a !== b))); \n    },\n    buildMapbox () {\n      Mapbox.accessToken = 'pk.eyJ1Ijoid2xvdSIsImEiOiJja3Y2cGEwMm8xbWtsMm5ubmNtd2tlNnE0In0.Wy7wOVN5-NJ6Ye8kzCVcBg';\n      const map = new Mapbox.Map({\n        container: 'mbfm', // container ID\n        style: 'mapbox://styles/mapbox/dark-v10', // style URL\n        center: [-98.583333,39.833333], // starting position [lng, lat]\n        zoom: 3.5 // starting zoom\n      });\n\n      const route = {\n        'type': 'FeatureCollection',\n        'features': []\n      }\n      map.on('load', function () { \n        map.resize()\n        // map.resize()\n        map.addSource(`route`, {\n          'type': 'geojson',\n          'data': route\n        })\n        map.addLayer({\n          'id': `route`,\n          'source': `route`,\n          'type': 'line',\n          'paint': {\n            'line-width': 2,\n            'line-color': '#007cbf'\n          }\n        })\n      })\n      this.map = map\n    },\n    updateRoute () {\n      this.routes = {\n        'type': 'FeatureCollection',\n        'features': []\n        }\n      if (this.selected != null) {\n        var stateData = this.flightsData.filter(d => d.ORIGIN == this.selected && d.FL_DATE == this.dateValue)\n        for (let i = 0; i < stateData.length; i++) {\n          var from = stateData[i].ORIGIN\n          var to = stateData[i].DEST\n          // var del_t = stateData[i].ARR_DELAY\n          // var carrier = stateData[i].CARRIER_DELAY\n          // var weather = stateData[i].WEATHER_DELAY\n          // var nas = stateData[i].NAS_DELAY\n          // var sec = stateData[i].SECURITY_DELAY\n          // var aircraft = stateData[i].LATE_AIRCRAFT_DELAY\n          var from_lng = this.airport_geo.filter(d => d.local_code == from)[0].longitude_deg\n          var from_lat = this.airport_geo.filter(d => d.local_code == from)[0].latitude_deg\n          var to_lng = this.airport_geo.filter(d => d.local_code == to)[0].longitude_deg\n          var to_lat = this.airport_geo.filter(d => d.local_code == to)[0].latitude_deg\n          // const destination = [-77.032, 38.913];\n\n          // A simple line from origin to destination.\n          var greatCircle = turf.greatCircle([from_lng, from_lat],[to_lng, to_lat], {properties: {name: 'CNM'}});\n          this.routes.features.push(greatCircle)\n          \n        }\n      }\n      this.map.getSource('route').setData(this.routes);\n    }\n  },\n  mounted: function () {\n    if (!this.$store.state.htmlMapData) {\n      var promises = []\n      promises.push(d3.json('states-albers-10m.json'))\n      promises.push(d3.csv('flights.csv'))\n      promises.push(d3.csv('airport_geo.csv'))\n      Promise.all(promises).then(values => {\n        this.rawData = values\n        this.mapData = values[0]\n        this.flightsData = values[1]\n        this.airport_geo = values[2]\n        this.$store.commit('htmlMapData', this.rawData);\n        this.created();\n        this.buildMap();\n        this.buildMapbox()\n      })\n      // d3.json('states-albers-10m.json').then(data => {\n      //   this.mapData = data;\n      //   // console.log('chartData set from file');\n      //   // console.log('chartData contains', this.mapData);\n      //   this.$store.commit('htmlMapData', this.mapData);\n\n      //   this.buildMap();\n      //   });\n    } else {\n      this.rawData = this.$store.state.htmlMapData;\n      this.mapData = this.rawData[0]\n      this.flightsData = this.rawData[1]\n      this.airport_geo = this.rawData[2]\n      // console.log('chartData set from store');\n      // console.log('chartData contains', this.mapData.length, 'rows');\n      this.created();\n      this.buildMap();\n      this.buildMapbox()\n    }\n  }\n}\n</script>\n\n<style>\n.states {\n  fill: #ccc;\n}\n\t\t\n.singlePath{\n  /* .style(\"fill\", \"none\")\n            .style(\"stroke\", \"orange\")\n            .style(\"stroke-width\", 2) */\n  stroke-width: 4;\n}\n.singlePath :hover {\n  /* .style(\"fill\", \"none\")\n            .style(\"stroke\", \"orange\")\n            .style(\"stroke-width\", 2) */\n  stroke: red;\n  stroke-width: 4;\n}\n\n\n\n.state-borders {\n  fill: none;\n  stroke: white;\n  /* stroke-width: 0.5px; */\n  stroke-linejoin: round;\n  stroke-linecap: round;\n  pointer-events: none;\n}\n.mapbox_container {\n    position: relative;\n    height: 610px !important;\n    width: 975px !important;\n    display: inline-block;\n    z-index: 1;\n}\n\n#airportpicker{\n  display: block;\n  width: 100%;\n  height: 100%;\n}\n\n</style>"]}]}