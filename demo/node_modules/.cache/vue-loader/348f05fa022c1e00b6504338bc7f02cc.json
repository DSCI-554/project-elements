{"remainingRequest":"/Users/aishwaryak/project-elements/demo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aishwaryak/project-elements/demo/src/views/ResponsiveD3.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aishwaryak/project-elements/demo/src/views/ResponsiveD3.vue","mtime":1637281242758},{"path":"/Users/aishwaryak/project-elements/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aishwaryak/project-elements/demo/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/aishwaryak/project-elements/demo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aishwaryak/project-elements/demo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7CgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ3Jlc3BvbnNpdmUnLAogIGRhdGE6IGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoYXJ0RGF0YTogbnVsbCwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGJhckNoYXJ0KCkgewogICAgICB2YXIgc3ZnID0gZDMuc2VsZWN0KCcjY2hhcnQnKTsKICAgICAgdmFyIHNlbCA9IHN2Zy5zZWxlY3RBbGwoJ3JlY3QnKQogICAgICAgIC5kYXRhKHRoaXMuY2hhcnREYXRhKQogICAgICAgIC5lbnRlcigpOwogICAgICAKICAgICAgc2VsLmFwcGVuZCgncmVjdCcpCiAgICAgICAgLmF0dHIoJ3gnLCAxMDApCiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gMjAgKyBpICogMjUpCiAgICAgICAgLmF0dHIoJ3dpZHRoJywgZCA9PiBkLkxBVEVfQUlSQ1JBRlRfREVMQVkgLyAxMDAwKQogICAgICAgIC5hdHRyKCdjbGFzcycsICdiYXInKTsKCiAgICAgIHNlbC5hcHBlbmQoJ3RleHQnKQogICAgICAgIC5hdHRyKCd4JywgOTApCiAgICAgICAgLmF0dHIoJ3knLCAoZCwgaSkgPT4gMzAgKyBpICogMjUpCiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ01LVF9VTklRVUVfQ0FSUklFUicpCiAgICAgICAgLnRleHQoZCA9PiBkLk1LVF9VTklRVUVfQ0FSUklFUik7CgogICAgICBzZWwuYXBwZW5kKCd0ZXh0JykKICAgICAgICAuYXR0cigneCcsIGQgPT4gOTAgKyBkLkxBVEVfQUlSQ1JBRlRfREVMQVkgLyAxMDAwKQogICAgICAgIC5hdHRyKCd5JywgKGQsIGkpID0+IDMwICsgaSAqIDI1KQogICAgICAgIC5hdHRyKCdjbGFzcycsICd2YWx1ZScpCiAgICAgICAgLnRleHQoZCA9PiBOdW1iZXIoZC5MQVRFX0FJUkNSQUZUX0RFTEFZKS50b0xvY2FsZVN0cmluZygpKTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGNvbnNvbGUubG9nKCdtb3VudGVkJyk7CiAgICAKICAgIGlmICghdGhpcy4kc3RvcmUuc3RhdGUuaHRtbENoYXJ0RGF0YSkgewogICAgICBkMy5jc3YoJ2ZsaWdodHMuY3N2JykudGhlbihkYXRhID0+IHsKICAgICAgICB0aGlzLmNoYXJ0RGF0YSA9IGRhdGE7CiAgICAgICAgY29uc29sZS5sb2coJ2NoYXJ0RGF0YSBzZXQgZnJvbSBmaWxlJyk7CiAgICAgICAgY29uc29sZS5sb2coJ2NoYXJ0RGF0YSBjb250YWlucycsIHRoaXMuY2hhcnREYXRhLmxlbmd0aCwgJ3Jvd3MnKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ2h0bWxDaGFydERhdGEnLCB0aGlzLmNoYXJ0RGF0YSk7CgogICAgICAgIHRoaXMuYmFyQ2hhcnQoKTsKICAgICAgICB9KTsKICAgIH0gZWxzZSB7CiAgICAgIHRoaXMuY2hhcnREYXRhID0gdGhpcy4kc3RvcmUuc3RhdGUuaHRtbENoYXJ0RGF0YTsKICAgICAgY29uc29sZS5sb2coJ2NoYXJ0RGF0YSBzZXQgZnJvbSBzdG9yZScpOwogICAgICBjb25zb2xlLmxvZygnY2hhcnREYXRhIGNvbnRhaW5zJywgdGhpcy5jaGFydERhdGEubGVuZ3RoLCAncm93cycpOwogICAgICB0aGlzLmJhckNoYXJ0KCk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["ResponsiveD3.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"ResponsiveD3.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <div class=\"responsive\">\n    <h1>This is a responsive d3 chart</h1>\n\n    <div class=\"title\">Top 10 COVID-19 confirmed in US, Aug 31 2020 (source Johns Hopkins University)</div>\n    <svg width=\"400\" height=\"300\" id=\"chart\"></svg>\n  </div>\n</template>\n\n<script>\n\nimport * as d3 from 'd3';\n\nexport default {\n  name: 'responsive',\n  data: function () {\n    return {\n      chartData: null,\n    }\n  },\n  methods: {\n    barChart() {\n      var svg = d3.select('#chart');\n      var sel = svg.selectAll('rect')\n        .data(this.chartData)\n        .enter();\n      \n      sel.append('rect')\n        .attr('x', 100)\n        .attr('y', (d, i) => 20 + i * 25)\n        .attr('width', d => d.LATE_AIRCRAFT_DELAY / 1000)\n        .attr('class', 'bar');\n\n      sel.append('text')\n        .attr('x', 90)\n        .attr('y', (d, i) => 30 + i * 25)\n        .attr('class', 'MKT_UNIQUE_CARRIER')\n        .text(d => d.MKT_UNIQUE_CARRIER);\n\n      sel.append('text')\n        .attr('x', d => 90 + d.LATE_AIRCRAFT_DELAY / 1000)\n        .attr('y', (d, i) => 30 + i * 25)\n        .attr('class', 'value')\n        .text(d => Number(d.LATE_AIRCRAFT_DELAY).toLocaleString());\n    }\n  },\n  mounted: function () {\n    console.log('mounted');\n    \n    if (!this.$store.state.htmlChartData) {\n      d3.csv('flights.csv').then(data => {\n        this.chartData = data;\n        console.log('chartData set from file');\n        console.log('chartData contains', this.chartData.length, 'rows');\n        this.$store.commit('htmlChartData', this.chartData);\n\n        this.barChart();\n        });\n    } else {\n      this.chartData = this.$store.state.htmlChartData;\n      console.log('chartData set from store');\n      console.log('chartData contains', this.chartData.length, 'rows');\n      this.barChart();\n    }\n  }\n}\n</script>\n\n<!-- \"scoped\" attribute limits CSS to this component only -->\n<style scoped>\n>>> text.MKT_UNIQUE_CARRIER {  /* need to add >>> to gets passed to d3 because vue creates new mapping */\n  text-anchor: end;\n  alignment-baseline: middle;\n  font-size: 12px;\n  fill: black;\n}\n\n>>> text.LATE_AIRCRAFT_DELAY {\n  font-family: 'Courier New', Courier, monospace;\n  font-weight: bolder;\n  font-size: 12px;\n  text-anchor: end;\n  alignment-baseline: middle;\n  fill: #eee;\n}\n\n>>> rect.bar {\n  text-align: right;  /* pull value text to the end of the bar */\n  vertical-align: middle;  /* align value text with middle of the bar */\n  fill:#7abcff;\n  height: 20px;  /* bar height, this can stay fixed */\n}\n\n.title {\n  margin-bottom: 0px;\n  font-size: 12px;\n}\n</style>"]}]}